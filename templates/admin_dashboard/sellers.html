<!-- templates/admin_dashboard/sellers.html -->
{% extends "admin_dashboard/dashboard.html" %}

{% block mainContent %}
<h2 class="my-4">فروشندگان</h2>

<div class="d-flex justify-content-between flex-wrap mb-4">
  <form class="d-flex w-50 mb-2" method="get">
    <input class="form-control me-2" type="search" name="q" placeholder="جستجوی فروشنده..." value="{{ request.GET.q }}">
    <button class="btn btn-primary" type="submit">جستجو</button>
  </form>
  <a href="{% url 'admin:admin-dashboard-seller-create' %}" class="btn btn-success">+ افزودن فروشنده</a>
</div>

<div class="card shadow-sm">
  <div class="card-body p-0">
    <table class="table table-striped table-hover mb-0">
      <thead class="table-dark">
        <tr>
          <th>نام فروشگاه</th>
          <th>مالک</th>
          <th>تلفن</th>
          <th>تعداد محصولات</th>
          <th>وضعیت</th>
          <th>عملیات</th>
        </tr>
      </thead>
      <tbody>
        {% for seller in sellers %}
        <tr>
          <td>{{ seller.shop_name }}</td>
          <td>{{ seller.owner_name }}</td>
          <td>{{ seller.phone }}</td>
          <td>{{ seller.products.count }}</td>
          <td>
            {% if seller.is_active %}
              <span class="badge bg-success">فعال</span>
            {% else %}
              <span class="badge bg-secondary">غیرفعال</span>
            {% endif %}
          </td>
          <td>
            <a href="{% url 'admin:admin-dashboard-seller-update' seller.id %}" class="btn btn-sm btn-outline-primary">ویرایش</a>
            <a href="{% url 'admin:admin-dashboard-seller-delete' seller.id %}" class="btn btn-sm btn-outline-danger">حذف</a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="6" class="text-center text-muted">فروشنده‌ای یافت نشد.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}