{% extends "base.html" %}
{% load static %}

{% block content %}
<section class="max-w-6xl mx-auto px-4 py-10">
  <div class="flex flex-col md:flex-row gap-10">
    <!-- Image -->
    <div class="md:w-1/2">
      <img src="{{ product.image_url }}" alt="{{ product.name }}" class="rounded-2xl shadow w-full">
    </div>

    <!-- Info -->
    <div class="md:w-1/2 flex flex-col gap-4">
      <h1 class="text-3xl font-bold text-[#1C39BB]">{{ product.name }}</h1>

      {% if product.brand %}
        <p class="text-gray-600 text-sm">{{ product.brand.name }}</p>
      {% endif %}

      <p class="text-xl text-gray-800 font-semibold">{{ product.price }} تومان</p>
      <p class="text-gray-700">{{ product.description }}</p>

      {% if product.id %}
      <form method="POST" action="{% url 'add_to_cart' product.id %}">
        {% csrf_token %}
        <button type="submit" class="mt-4 px-6 py-3 bg-[#1C39BB] text-white rounded-xl shadow hover:opacity-90 transition">
          افزودن به سبد خرید
        </button>
      </form>
      {% else %}
      <button disabled class="mt-4 px-6 py-3 bg-gray-300 text-gray-500 rounded-xl cursor-not-allowed">
        محصول نامعتبر
      </button>
      {% endif %}
    </div>
  </div>
</section>
{% endblock %}

