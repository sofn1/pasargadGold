{% extends "base.html" %}
{% block title %}مدیریت خبرها{% endblock %}
{% block content %}
<div class="container" dir="rtl">
  <h1>خبرهای من</h1>
  <p><a class="btn primary" href="{% url 'writer:news_create' %}">+ ایجاد خبر جدید</a></p>

  {% if news_list %}
    <table class="tbl">
      <thead><tr><th>عنوان</th><th>زمان انتشار</th><th>زمان مطالعه</th><th></th></tr></thead>
      <tbody>
      {% for n in news_list %}
        <tr>
          <td>{{ n.name|default:n.english_name }}</td>
          <td>{% if n.publish_time %}{{ n.publish_time|date:"Y-m-d H:i" }}{% else %}-{% endif %}</td>
          <td>{% if n.read_time %}{{ n.read_time }} دقیقه{% else %}-{% endif %}</td>
          <td class="actions">
            <a href="{% url 'writer:news_edit' n.pk %}">ویرایش</a> |
            <a href="{% url 'writer:news_delete' n.pk %}">حذف</a> |
            <a href="{% url 'writer:news_comments_html' n.pk %}">نظرات</a>
          </td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>خبری ثبت نشده است.</p>
  {% endif %}
</div>

<style>
.container{max-width:1000px;margin:2rem auto;padding:0 1rem}
.tbl{width:100%;border-collapse:collapse}
.tbl th,.tbl td{border:1px solid #eee;padding:.6rem}
.actions a{text-decoration:none}
.btn.primary{display:inline-block;padding:.5rem .9rem;border-radius:10px;border:1px solid #1C39BB;background:#1C39BB;color:#fff;text-decoration:none}
</style>
{% endblock %}
