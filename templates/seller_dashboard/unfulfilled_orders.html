{% extends "seller_dashboard/dashboard.html" %}

{% block mainContent %}
<div class="max-w-5xl mx-auto px-4 py-10">
  <h2 class="text-2xl font-bold text-[#1C39BB] mb-6">🚚 سفارش‌های تکمیل‌نشده</h2>
  <table class="w-full table-auto bg-white rounded shadow text-right">
    <thead class="bg-yellow-600 text-white">
      <tr>
        <th class="p-3">شماره سفارش</th>
        <th class="p-3">مبلغ کل</th>
        <th class="p-3">تاریخ ایجاد</th>
      </tr>
    </thead>
    <tbody id="unfulfilled-body"></tbody>
  </table>
</div>

<script>
  fetch("{% url 'seller:seller_unfulfilled_orders' %}")
    .then(res => res.json())
    .then(data => {
      const tbody = document.getElementById("unfulfilled-body");
      data.forEach(order => {
        tbody.innerHTML += `
          <tr>
            <td class="p-3">${order.id}</td>
            <td class="p-3">${order.total_price} تومان</td>
            <td class="p-3">${new Date(order.created_at).toLocaleDateString()}</td>
          </tr>
        `;
      });
    });
</script>
{% endblock %}
